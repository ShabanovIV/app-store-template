"use strict";(self.webpackChunkapp_store=self.webpackChunkapp_store||[]).push([[792],{294:(e,t,r)=>{r.d(t,{PA:()=>a,bb:()=>d,bw:()=>s,pH:()=>o});const a={public:"public",private:"private",privateHidden:"privateHidden"},s={home:{path:"/",title:"Home",type:a.public,isMenuItem:!0},category:{path:"/catalog",title:"Catalog",type:a.private,isMenuItem:!0},products:{basePath:"/products/",path:"/products/:categoryId",title:"Products",type:a.private,isMenuItem:!1},auth:{path:"/auth",title:"Sign In",type:a.public,isMenuItem:!1},profile:{path:"/profile",title:"Profile",type:a.privateHidden,isMenuItem:!0},cart:{path:"/cart",title:"Cart",type:a.privateHidden,isMenuItem:!0},orders:{path:"/orders",title:"Order",type:a.privateHidden,isMenuItem:!0},checkout:{path:"/checkout",title:"Checkout",type:a.privateHidden,isMenuItem:!1},categoryEdit:{path:"/categoryEdit",title:"Categories",type:a.privateHidden,isMenuItem:!0},productEdit:{path:"/productEdit",title:"Products",type:a.privateHidden,isMenuItem:!0}},o=()=>Object.keys(s).map((e=>s[e])).filter((e=>e.type!==a.privateHidden)),d=()=>Object.keys(s).map((e=>s[e])).filter((e=>e.type===a.privateHidden))},429:(e,t,r)=>{r.d(t,{AA:()=>A,GQ:()=>d,Q$:()=>l,lY:()=>m,r3:()=>i,hi:()=>c,Kc:()=>n,vM:()=>u});var a=r(5816),s=r(6895),o=r(5024);const d=(0,a.xP)({reducerPath:"productApi",baseQuery:s.S,tagTypes:["Product"],endpoints:e=>({getAllProducts:e.query({query:()=>({url:"/products",method:"GET",params:(0,o.i)({})}),providesTags:["Product"]}),getProducts:e.query({query:e=>({url:"/products",method:"GET",params:(0,o.i)(e)}),providesTags:["Product"]}),getProductById:e.query({query:e=>({url:`/products/${e}`,method:"GET"}),providesTags:["Product"]}),createProduct:e.mutation({query:e=>({url:"/products",method:"POST",body:e}),invalidatesTags:["Product"]}),updateProduct:e.mutation({query:e=>({url:`/products/${e.id}`,method:"PATCH",body:e}),invalidatesTags:["Product"]}),deleteProduct:e.mutation({query:e=>({url:`/products/${e}`,method:"DELETE"}),invalidatesTags:["Product"]})})}),{useGetAllProductsQuery:i,useGetProductsQuery:n,useGetProductByIdQuery:c,useCreateProductMutation:l,useUpdateProductMutation:u,useDeleteProductMutation:m}=d;var p=r(4848),h=r(1319),y=r(4700);const g="ProductCard-module_cardPrices-X1MUZ",A=({product:e,footer:t})=>{const r=e.oldPrice&&e.oldPrice>e.price?Math.round(100*(e.oldPrice-e.price)/e.oldPrice):0;return(0,p.jsxs)("div",{className:"ProductCard-module_card-G3SMN",children:[(0,p.jsxs)("div",{className:"ProductCard-module_cardTop-lKhk_",children:[(0,p.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),className:"ProductCard-module_cardImage-EsTWJ",children:(0,p.jsx)("img",{src:e.photo?e.photo:h,alt:e.name})}),(0,p.jsx)("div",{className:"ProductCard-module_cardLabel-ulXEv",children:`-${r}%`})]}),(0,p.jsxs)("div",{className:"ProductCard-module_cardBottom-FBtl3",children:[(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("div",{className:`${g} ProductCard-module_cardPriceDiscount-eN2ib`,children:(0,y.$)(e.price)}),e.oldPrice&&(0,p.jsx)("div",{className:`${g} ProductCard-module_cardPriceCommon-ETnHp`,children:(0,y.$)(e.oldPrice)})]}),(0,p.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),className:"ProductCard-module_cardTitle-D7VzR",children:e.name}),(0,p.jsx)("div",{className:"ProductCard-module_cardFooter-JwD6U",children:t&&t()})]})]})}},582:(e,t,r)=>{r.d(t,{N:()=>a});const a=(0,r(6540).createContext)(void 0)},1319:(e,t,r)=>{e.exports=r.p+"images/empty4ca53b4adecc1d3c90e7.png"},1503:(e,t,r)=>{r.d(t,{Ai:()=>i,Gq:()=>d,SO:()=>o,cY:()=>s});var a=r(4180);const s={token:`token-${a.r}`,user:`user-${a.r}`,cartState:`cart-${a.r}`},o=(e,t)=>{localStorage.setItem(e,t)},d=e=>localStorage.getItem(e),i=e=>{localStorage.removeItem(e)}},2390:(e,t,r)=>{r.d(t,{m6:()=>i,D9:()=>a.Ay,sX:()=>a.sX,Fs:()=>a.Fs,cm:()=>a.cm});var a=r(8931),s=r(7818),o=r(4848),d=r(6552);const i=({product:e})=>(0,o.jsxs)("div",{className:"CartItem-module_cartItem-IYCGQ",children:[(0,o.jsx)("div",{className:"CartItem-module_imageWrapper-PS28K",children:e.photo?(0,o.jsx)("img",{src:e.photo,alt:e.name,className:"CartItem-module_image-X5YYx"}):(0,o.jsx)("div",{className:"CartItem-module_placeholder-RUA2M",children:"Нет фото"})}),(0,o.jsxs)("div",{className:"CartItem-module_info-rBJ7y",children:[(0,o.jsx)("p",{className:"CartItem-module_name-VsAfd",children:e.name}),e.desc&&(0,o.jsx)("p",{className:"CartItem-module_desc-gxkOw",children:e.desc}),(0,o.jsxs)("div",{className:"CartItem-module_priceSection-hRxhU",children:[e.oldPrice&&(0,o.jsxs)("span",{className:"CartItem-module_oldPrice-MGFuo",children:[e.oldPrice," ₽"]}),(0,o.jsxs)("span",{className:"CartItem-module_price-jadfG",children:[e.price," ₽"]})]})]}),(0,o.jsx)(d.A,{variant:"solid",style:{minHeight:"5rem",maxHeight:"20rem"},type:"vertical"}),(0,o.jsx)(s.A,{productId:e.id})]})},2563:(e,t,r)=>{var a;r.d(t,{O:()=>a}),function(e){e.ERR_INCORRECT_EMAIL_OR_PASSWORD="ERR_INCORRECT_EMAIL_OR_PASSWORD",e.ERR_ACCOUNT_ALREADY_EXIST="ERR_ACCOUNT_ALREADY_EXIST",e.ERR_FIELD_REQUIRED="ERR_FIELD_REQUIRED",e.ERR_INCORRECT_PASSWORD="ERR_INCORRECT_PASSWORD",e.ERR_INVALID_PASSWORD="ERR_INVALID_PASSWORD",e.ERR_NOT_VALID="ERR_NOT_VALID",e.ERR_AUTH="ERR_AUTH",e.ERR_NO_FILES="ERR_NO_FILES",e.ERR_NOT_ALLOWED="ERR_NOT_ALLOWED",e.ERR_NOT_FOUND="ERR_NOT_FOUND",e.ERR_VALIDATION_ERROR="ERR_VALIDATION_ERROR",e.ERR_INVALID_QUERY_PARAMS="ERR_INVALID_QUERY_PARAMS",e.ERR_INTERNAL_SERVER="ERR_INTERNAL_SERVER"}(a||(a={}))},2565:(e,t,r)=>{r.d(t,{G:()=>o,j:()=>s});var a=r(1468);const s=a.wA.withTypes(),o=a.d4},2790:(e,t,r)=>{r.d(t,{K8:()=>s,Zi:()=>o,rf:()=>d});var a=r(2563);const s=e=>"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message,o=e=>"object"==typeof e&&null!==e&&!(!("data"in e)||!d(null==e?void 0:e.data)),d=e=>"object"==typeof e&&null!==e&&!(!("errors"in e)||!Array.isArray(e.errors))&&e.errors.every((e=>"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.message&&"string"==typeof e.stack&&"extensions"in e&&"object"==typeof e.extensions&&null!==e.extensions&&!("string"!=typeof e.extensions.code||!Object.values(a.O).includes(e.extensions.code))&&(!("fieldName"in e)||"string"==typeof e.fieldName)))},4180:(e,t,r)=>{r.d(t,{J:()=>a,r:()=>s});const a="https://19429ba06ff2.vps.myjino.ru/api",s="123e4567-e89b-12d3-a456-426614174000"},4700:(e,t,r)=>{r.d(t,{$:()=>a});const a=(e,t="RUB")=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},4840:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(1354),s=r.n(a),o=r(6314),d=r.n(o)()(s());d.push([e.id,"html,body{margin:0;padding:0;min-height:100dvh;overflow:hidden;font-family:sans-serif}","",{version:3,sources:["webpack://./src/shared/styles/global.scss"],names:[],mappings:"AAAA,UAEE,QAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,sBAAA",sourcesContent:["html,\nbody {\n  margin: 0;\n  padding: 0;\n  min-height: 100dvh;\n  overflow: hidden;\n  font-family: sans-serif;\n}"],sourceRoot:""}]);const i=d},5024:(e,t,r)=>{r.d(t,{i:()=>a});const a=e=>{const t=new URLSearchParams;return Object.entries(e).forEach((([e,r])=>{null!=r&&t.append(e,"object"==typeof r?JSON.stringify(r):String(r))})),t}},5076:(e,t,r)=>{r.d(t,{O0:()=>o,Re:()=>y,N:()=>c,xj:()=>m,CT:()=>l});var a=r(4848),s=r(4700);const o=({order:e})=>(0,a.jsxs)("div",{className:"OrderItem-module_container-q_FHL",children:[(0,a.jsxs)("div",{className:"OrderItem-module_header-h4Aor",children:[(0,a.jsxs)("span",{className:"OrderItem-module_orderId-iVeVe",children:["Order ID: ",e.id]}),(0,a.jsx)("span",{className:"OrderItem-module_status-TAt5Y",children:e.status})]}),(0,a.jsx)("div",{className:"OrderItem-module_products-ULeV1",children:e.products.map(((e,t)=>(0,a.jsxs)("div",{className:"OrderItem-module_product-AJfjw",children:[(0,a.jsx)("span",{className:"OrderItem-module_productName-aSXjh",children:e.product?e.product.name:"Unknown Product"}),(0,a.jsxs)("span",{className:"OrderItem-module_productQuantity-O0ded",children:["x",e.quantity]}),(0,a.jsx)("span",{className:"OrderItem-module_productPrice-qCBL6",children:e.product?(0,s.$)(e.product.price):(0,s.$)(0)})]},t)))}),(0,a.jsx)("div",{className:"OrderItem-module_footer-nJZ_2",children:(0,a.jsxs)("span",{className:"OrderItem-module_createdAt-XARdu",children:["Created at: ",new Date(e.createdAt).toLocaleDateString()]})})]});var d=r(5816),i=r(6895),n=r(5024);const c=(0,d.xP)({reducerPath:"orderApi",baseQuery:i.S,tagTypes:["Order"],endpoints:e=>({getAllOrders:e.query({query:()=>({url:"/orders",method:"GET",params:(0,n.i)({sorting:{type:"DESC",field:"createdAt"}})}),providesTags:["Order"]}),getOrders:e.query({query:e=>({url:"/orders",method:"GET",params:(0,n.i)(e)}),providesTags:["Order"]}),createOrder:e.mutation({query:e=>({url:"/orders",method:"POST",body:e}),invalidatesTags:["Order"]}),updateOrder:e.mutation({query:({id:e,productIds:t,status:r})=>({url:`/orders/${e}`,method:"PATCH",body:{productIds:t,status:r}}),invalidatesTags:["Order"]}),deleteOrder:e.mutation({query:e=>({url:`/orders/${e}`,method:"DELETE"}),invalidatesTags:["Order"]})})}),{useGetAllOrdersQuery:l,useGetOrdersQuery:u,useCreateOrderMutation:m,useUpdateOrderMutation:p,useDeleteOrderMutation:h}=c;var y;!function(e){e.PendingConfirmation="pending_confirmation",e.Processing="processing",e.Packaging="packaging",e.WaitingForDelivery="waiting_for_delivery",e.InTransit="in_transit",e.Delivered="delivered",e.ReturnRequested="return_requested",e.OrderCancelled="order_cancelled"}(y||(y={}))},5515:(e,t,r)=>{r.d(t,{_h:()=>l,bu:()=>n,jS:()=>d,z6:()=>i});var a=r(2790),s=r(2563);const o=[s.O.ERR_NOT_VALID,s.O.ERR_AUTH,s.O.ERR_NO_FILES,s.O.ERR_NOT_ALLOWED,s.O.ERR_NOT_FOUND,s.O.ERR_INVALID_QUERY_PARAMS,s.O.ERR_INTERNAL_SERVER],d=e=>{if(!(0,a.Zi)(e))throw e;if(c(e.data,o))throw e.data},i=e=>(0,a.Zi)(e)?e.data.errors.filter((e=>Boolean(e.fieldName))).map((e=>({name:e.fieldName,errors:[e.message]}))):[],n=e=>(0,a.Zi)(e)?e.data.errors.filter((e=>!e.fieldName)).map((e=>e.message)).join("\n"):null,c=(e,t)=>e.errors.some((e=>t.includes(e.extensions.code))),l=e=>e.errors.map((e=>e.message)).join("\n")},6895:(e,t,r)=>{r.d(t,{S:()=>o});var a=r(378),s=r(4180);const o=(0,a.cw)({baseUrl:s.J,prepareHeaders:(e,{getState:t})=>{const r=t().auth.token;return r&&e.set("Authorization",`Bearer ${r}`),e}})},7818:(e,t,r)=>{r.d(t,{A:()=>u});var a=r(4848),s=r(6449),o=r(9237),d=r(515),i=r(2702),n=r(2565);const c={containerCart:"AddToCart-module_containerCart-T5pWd"};var l=r(8931);const u=({productId:e})=>{const t=(0,n.j)(),r=(0,n.G)((t=>(0,l.YP)(t,e))),u=()=>{t((0,l.AD)({productId:e,quantity:r+1}))};return(0,a.jsx)("div",{className:c.containerCart,children:0===r?(0,a.jsx)(d.Ay,{onClick:u,className:c.buttonAdd,children:"В корзину"}):(0,a.jsxs)(d.Ay.Group,{style:{width:"6.6rem"},children:[(0,a.jsx)(d.Ay,{style:{width:"2rem"},onClick:()=>{r>0&&t((0,l.AD)({productId:e,quantity:r-1}))},icon:(0,a.jsx)(s.A,{})}),(0,a.jsx)(i.A,{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"2.6rem"},children:r}),(0,a.jsx)(d.Ay,{style:{width:"2rem"},onClick:u,icon:(0,a.jsx)(o.A,{})})]})})}},8931:(e,t,r)=>{r.d(t,{sX:()=>l,Ay:()=>u,Fs:()=>p,YP:()=>h,cm:()=>m,AD:()=>n});var a=r(5307),s=r(1503);const o=e=>{(0,s.SO)(s.cY.cartState,JSON.stringify(e))},d=(()=>{const e=(0,s.Gq)(s.cY.cartState);try{return e?JSON.parse(e):{}}catch(e){return console.error("Parsing JSON error for localStorage:",e),{}}})(),i=(0,a.Z0)({name:"cart",initialState:d,reducers:{updateAmount(e,t){const{productId:r,quantity:a}=t.payload;a>0?e[r]=a:delete e[r],o(e)},removeProduct(e,t){delete e[t.payload],o(e)},clearCart(){const e={};return o(e),e}}}),{updateAmount:n,removeProduct:c,clearCart:l}=i.actions,u=i.reducer,m=e=>Object.keys(e.cart),p=e=>e.cart,h=(e,t)=>e.cart[t]||0},9364:(e,t,r)=>{var a=r(4848),s=r(6540),o=r(5338),d=r(1468),i=r(4984),n=r(5307),c=r(9473),l=r(5076),u=r(429),m=r(9862),p=r(2390);const h=(0,n.U1)({reducer:{auth:m.li,cart:p.D9,[m.i$.reducerPath]:m.i$.reducer,[m.gu.reducerPath]:m.gu.reducer,[c.BP.reducerPath]:c.BP.reducer,[u.GQ.reducerPath]:u.GQ.reducer,[l.N.reducerPath]:l.N.reducer},middleware:e=>e().concat(m.i$.middleware).concat(m.gu.middleware).concat(c.BP.middleware).concat(u.GQ.middleware).concat(l.N.middleware),devTools:!0});var y=r(3532),g=r(582);const A=({children:e})=>{const[t,r]=y.Ay.useMessage();return(0,a.jsxs)(g.N.Provider,{value:{showSuccess:t.success,showError:t.error,showInfo:t.info},children:[r,e]})};var _=r(1568),R=r(515),j=r(2790),x=r(5515);class C extends s.Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{hasError:!1,error:null}}),Object.defineProperty(this,"handleRetry",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.setState({hasError:!1,error:null})}})}static getDerivedStateFromError(e){return(0,j.rf)(e)?{hasError:!0,error:new Error((0,x._h)(e))}:(0,j.K8)(e)?{hasError:!0,error:new Error(e.message)}:{hasError:!0,error:new Error("Unknown error.")}}componentDidCatch(e,t){console.error("AppErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,a.jsx)(_.Ay,{status:"500",subTitle:(0,j.K8)(this.state.error)?this.state.error.message:"Unknown error",extra:(0,a.jsx)(R.Ay,{onClick:this.handleRetry,type:"primary",children:"Try again"})}):this.props.children}}const v=({children:e})=>(0,a.jsx)("main",{className:"AppContent-module_content-Oc0Os",children:e});var P=r(4336),E=r(294),O=r(2565);const N="AppMenu-module_item-h591S",I=()=>{const{isAuth:e}=(0,m.As)(),t=(0,O.j)(),r=(0,i.Zp)(),s=[...(0,E.pH)(),...e?(0,E.bb)():[]].filter((e=>e.isMenuItem));return(0,a.jsxs)("ul",{className:"AppMenu-module_menu-kIy7w",children:[s.map((e=>(0,a.jsx)("li",{className:N,children:(0,a.jsx)(i.N_,{to:e.path,children:e.title})},e.path))),(0,a.jsx)("li",{className:N,onClick:()=>{e&&(t((0,m.ri)()),t(c.BP.util.resetApiState()),t(u.GQ.util.resetApiState()),t(l.N.util.resetApiState()),r(E.bw.home.path))},children:e?(0,a.jsx)(P.A,{style:{cursor:"pointer"}}):(0,a.jsx)(i.N_,{to:E.bw.auth.path,children:E.bw.auth.title})},"signin-signout")]})},b=r.p+"images/Logoc389529f86f9af6c57ba.ico",f=()=>(0,a.jsx)("div",{className:"Logo-module_logo-NpPh8",children:(0,a.jsx)(i.N_,{to:"/",children:(0,a.jsx)("img",{src:b,alt:"App Store"})})}),T=()=>(0,a.jsxs)("header",{className:"AppHeader-module_header-Y1FU7",children:[(0,a.jsx)(f,{}),(0,a.jsx)(I,{})]}),S=({children:e})=>(0,a.jsxs)("div",{className:"AppLayout-module_layout-fQ34W",children:[(0,a.jsx)(T,{}),(0,a.jsx)(v,{children:e})]}),w=({children:e})=>(0,a.jsx)(A,{children:(0,a.jsx)(C,{children:(0,a.jsx)(i.I9,{children:(0,a.jsx)(d.Kq,{store:h,children:(0,a.jsx)(S,{children:e})})})})}),D=({children:e})=>{const{isAuth:t}=(0,m.As)(),r=(0,i.zy)();return t?e:(0,a.jsx)(i.C5,{to:E.bw.auth.path,state:{from:r.pathname},replace:!0})},k=(0,s.lazy)((()=>r.e(562).then(r.bind(r,5562)))),q=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(818),r.e(667),r.e(652)]).then(r.bind(r,3652)))),L=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(818),r.e(667),r.e(781)]).then(r.bind(r,8781)))),M=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(171)]).then(r.bind(r,3171)))),U=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(643)]).then(r.bind(r,4643)))),G=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(286)]).then(r.bind(r,7286)))),Q=(0,s.lazy)((()=>r.e(422).then(r.bind(r,1422)))),H=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(818),r.e(966),r.e(27)]).then(r.bind(r,1027)))),$=(0,s.lazy)((()=>Promise.all([r.e(716),r.e(818),r.e(966),r.e(890),r.e(786)]).then(r.bind(r,3786)))),B=(0,s.lazy)((()=>r.e(900).then(r.bind(r,900)))),F=[{path:E.bw.home.path,element:(0,a.jsx)(k,{})},{path:E.bw.auth.path,element:(0,a.jsx)(q,{})},{path:E.bw.profile.path,element:(0,a.jsx)(L,{})},{path:E.bw.category.path,element:(0,a.jsx)(M,{})},{path:E.bw.products.path,element:(0,a.jsx)(U,{})},{path:E.bw.cart.path,element:(0,a.jsx)(G,{})},{path:E.bw.orders.path,element:(0,a.jsx)(B,{})},{path:E.bw.checkout.path,element:(0,a.jsx)(Q,{})},{path:E.bw.categoryEdit.path,element:(0,a.jsx)(H,{})},{path:E.bw.productEdit.path,element:(0,a.jsx)($,{})}],V=e=>e&&(0,E.bb)().map((e=>(0,a.jsx)(i.qh,{path:e.path,element:(0,a.jsx)(D,{children:Y(e.path)})},e.path))),Y=e=>{const t=F.find((t=>t.path===e));return t?t.element:(0,a.jsx)(_.Ay,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,a.jsx)(R.Ay,{onClick:()=>window.location.href=E.bw.home.path,type:"primary",children:"Back Home"})})},z=()=>{const{isAuth:e}=(0,m.As)();return(0,a.jsxs)(i.BV,{children:[(0,E.pH)().map((e=>e.type===E.PA.private?(0,a.jsx)(i.qh,{path:e.path,element:(0,a.jsx)(D,{children:Y(e.path)})},e.path):(0,a.jsx)(i.qh,{path:e.path,element:Y(e.path)},e.path))),V(e)]})};var W=r(5072),J=r.n(W),X=r(7825),Z=r.n(X),K=r(7659),ee=r.n(K),te=r(5056),re=r.n(te),ae=r(540),se=r.n(ae),oe=r(1113),de=r.n(oe),ie=r(4840),ne={};ne.styleTagTransform=de(),ne.setAttributes=re(),ne.insert=ee().bind(null,"head"),ne.domAPI=Z(),ne.insertStyleElement=se(),J()(ie.A,ne),ie.A&&ie.A.locals&&ie.A.locals,o.createRoot(document.getElementById("root")).render((0,a.jsx)(s.StrictMode,{children:(0,a.jsx)((()=>(0,a.jsx)(w,{children:(0,a.jsx)(z,{})})),{})}))},9473:(e,t,r)=>{r.d(t,{rm:()=>y,BP:()=>d,XY:()=>l,ec:()=>m,lg:()=>i,Wm:()=>n,OU:()=>c,ez:()=>u});var a=r(5816),s=r(6895),o=r(5024);const d=(0,a.xP)({reducerPath:"categoryApi",baseQuery:s.S,tagTypes:["Category"],endpoints:e=>({getAllCategories:e.query({query:()=>({url:"/categories",method:"GET",params:(0,o.i)({})}),providesTags:["Category"]}),getCategories:e.query({query:e=>({url:"/categories",method:"GET",params:(0,o.i)(e)}),providesTags:["Category"]}),getCategoryById:e.query({query:e=>({url:`/categories/${e}`,method:"GET"}),providesTags:["Category"]}),createCategory:e.mutation({query:e=>({url:"/categories",method:"POST",body:e}),invalidatesTags:["Category"]}),updateCategory:e.mutation({query:({id:e,name:t,photo:r})=>({url:`/categories/${e}`,method:"PATCH",body:{name:t,photo:r}}),invalidatesTags:["Category"]}),deleteCategory:e.mutation({query:e=>({url:`/categories/${e}`,method:"DELETE"}),invalidatesTags:["Category"]})})}),{useGetAllCategoriesQuery:i,useGetCategoriesQuery:n,useGetCategoryByIdQuery:c,useCreateCategoryMutation:l,useUpdateCategoryMutation:u,useDeleteCategoryMutation:m}=d;var p=r(4848),h=r(1319);const y=({category:e,onClick:t,footer:r})=>{const a=e=>{e.preventDefault(),e.stopPropagation(),t&&t()};return(0,p.jsxs)("div",{className:"CategoryCard-module_card-tskRF",children:[(0,p.jsx)("div",{className:"CategoryCard-module_cardTop-zwy1m",children:(0,p.jsx)("a",{href:"#",onClick:a,className:"CategoryCard-module_cardImage-pBC6p",children:(0,p.jsx)("img",{src:e.photo?e.photo:h,alt:e.name})})}),(0,p.jsxs)("div",{className:"CategoryCard-module_cardBottom-iovfo",children:[(0,p.jsx)("a",{href:"#",onClick:a,className:"CategoryCard-module_cardTitle-C0cLW",children:e.name}),r&&r()]})]})}},9862:(e,t,r)=>{r.d(t,{li:()=>y,ri:()=>h,gu:()=>_,As:()=>v,SV:()=>x,v4:()=>R,Dx:()=>u,rU:()=>l,d2:()=>j,i$:()=>c});var a=r(5307),s=r(1503);const o=e=>{(0,s.SO)(s.cY.token,e)};var d=r(5816),i=r(378),n=r(4180);const c=(0,d.xP)({reducerPath:"userApi",baseQuery:(0,i.cw)({baseUrl:n.J}),endpoints:e=>({signup:e.mutation({query:e=>({url:"/signup",method:"POST",body:Object.assign(Object.assign({},e),{commandId:n.r})})}),signin:e.mutation({query:e=>({url:"/signin",method:"POST",body:e})})})}),{useSignupMutation:l,useSigninMutation:u}=c,m={token:(0,s.Gq)(s.cY.token)},p=(0,a.Z0)({name:"auth",initialState:m,reducers:{logout(e){e.token=null,(0,s.Ai)(s.cY.token)}},extraReducers:e=>{e.addMatcher(c.endpoints.signin.matchFulfilled,((e,t)=>{e.token=t.payload.token,o(t.payload.token)})),e.addMatcher(c.endpoints.signup.matchFulfilled,((e,t)=>{e.token=t.payload.token,o(t.payload.token)}))}}),{logout:h}=p.actions,y=p.reducer,g=e=>e.auth.token;var A=r(6895);const _=(0,d.xP)({reducerPath:"profileApi",baseQuery:A.S,endpoints:e=>({profile:e.query({query:()=>({url:"/profile",method:"GET"})}),updateProfile:e.mutation({query:e=>({url:"/profile",method:"PATCH",body:e})}),changePassword:e.mutation({query:e=>({url:"/profile/change-password",method:"POST",body:e})})})}),{useProfileQuery:R,useUpdateProfileMutation:j,useChangePasswordMutation:x}=_;var C=r(2565);const v=()=>{const e=(0,C.G)(g);return{isAuth:null!==e,token:e}}}},e=>{e.O(0,[897],(()=>e(e.s=9364))),e.O()}]);
//# sourceMappingURL=main.4602e6c9e87f935420ef.js.map